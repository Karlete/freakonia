<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Freakonia ‚Äî Noticias. Actualidad friki sin filtros: GOT, gaming, esports, gamedev y m√°s." />
  <title>Noticias ‚Äî Freakonia</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/components.css" />
  <link rel="stylesheet" href="css/animations.css" />
  <link rel="stylesheet" href="css/news.css" />

  <!-- News data ‚Äî must load before render script -->
  <script src="js/news-data.js"></script>

  <!-- Open Graph / WhatsApp / Telegram -->
  <meta property="og:type"         content="website">
  <meta property="og:site_name"    content="Freakonia">
  <meta property="og:url"          content="https://freakonia.com/news.html">
  <meta property="og:title"        content="Noticias ‚Äî Freakonia">
  <meta property="og:description"  content="Actualidad friki sin filtros. GoT, videojuegos, esports y m√°s.">
  <meta property="og:image"        content="https://freakonia.com/assets/img/og_image.jpg">
  <meta property="og:image:width"  content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale"       content="es_ES">

  <!-- Twitter/X Card -->
  <meta name="twitter:card"        content="summary_large_image">
  <meta name="twitter:site"        content="@SanprietoG">
  <meta name="twitter:title"       content="Noticias ‚Äî Freakonia">
  <meta name="twitter:description" content="Actualidad friki sin filtros. GoT, videojuegos, esports y m√°s.">
  <meta name="twitter:image"       content="https://freakonia.com/assets/img/og_image.jpg">

</head>
<body>

<!-- CRT overlay -->
<div class="crt-overlay" aria-hidden="true"></div>

<!-- ‚îÄ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<nav class="navbar" role="navigation" aria-label="Navegaci√≥n principal">
  <div class="container">
    <a href="index.html" class="nav-brand">‚öî FREAKONIA</a>
    <button class="nav-toggle" id="nav-toggle" aria-label="Abrir men√∫">‚ñº MENU</button>
    <ul class="nav-menu" id="nav-menu">
      <li><a href="index.html"     class="nav-link">üè† Inicio</a></li>
      <li><a href="gamedev.html"   class="nav-link">üéÆ GameDev</a></li>
      <li><a href="gaming.html"    class="nav-link">üïπ Gaming</a></li>
      <li><a href="esports.html"   class="nav-link">üèÜ Esports</a></li>
      <li><a href="got.html"       class="nav-link">üêâ GoT</a></li>
      <li><a href="warhammer.html" class="nav-link">‚öô Warhammer</a></li>
      <li><a href="magic.html"     class="nav-link">‚ú® MtG</a></li>
      <li><a href="rol.html"       class="nav-link">üé≤ Rol</a></li>
      <li><a href="nba.html"       class="nav-link">üèÄ NBA</a></li>
      <li><a href="java.html"      class="nav-link">‚òï Java</a></li>
      <li><a href="social.html"    class="nav-link">üì° Social</a></li>
      <li><a href="news.html"      class="nav-link active">üì∞ News</a></li>
    </ul>
  </div>
</nav>

<!-- ‚îÄ‚îÄ‚îÄ Page Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div class="page-header">
  <div class="container">
    <p class="page-header-pre">üì∞ FREAKONIA</p>
    <h1 class="page-header-title">NOTICIAS</h1>
    <p class="page-header-sub">Actualidad friki ¬∑ Sin filtros ¬∑ Con opini√≥n</p>
    <div class="stats-row">
      <div class="stat-box">
        <span class="stat-value" id="newsCount">1</span>
        <span class="stat-label">NOTICIAS</span>
      </div>
      <div class="stat-box">
        <span class="stat-value">2026</span>
        <span class="stat-label">TEMPORADA</span>
      </div>
      <div class="stat-box">
        <span class="stat-value">5</span>
        <span class="stat-label">CATEGOR√çAS</span>
      </div>
    </div>
  </div>
</div>

<main>
  <div class="container">

    <!-- SEARCH + FILTER BAR -->
    <div class="news-controls">

      <!-- Search -->
      <div class="news-search-wrap">
        <span class="news-search-icon">üîç</span>
        <input
          type="text"
          id="newsSearch"
          class="news-search-input"
          placeholder="BUSCAR NOTICIA..."
          autocomplete="off"
        >
      </div>

      <!-- Category filters -->
      <div class="news-filters" id="newsFilters">
        <button class="news-filter-btn active" data-filter="all">
          ALL
        </button>
        <button class="news-filter-btn" data-filter="got">
          üêâ GOT
        </button>
        <button class="news-filter-btn" data-filter="gaming">
          üéÆ GAMING
        </button>
        <button class="news-filter-btn" data-filter="esports">
          üèÜ ESPORTS
        </button>
        <button class="news-filter-btn" data-filter="gamedev">
          ‚öô GAMEDEV
        </button>
        <button class="news-filter-btn" data-filter="misc">
          ‚≠ê MISC
        </button>
      </div>

    </div>

    <!-- NO RESULTS MESSAGE -->
    <div class="news-no-results" id="newsNoResults" style="display:none">
      <p>// NO SE ENCONTRARON NOTICIAS</p>
    </div>

    <!-- NEWS GRID ‚Äî populated from js/news-data.js via renderNews() below -->
    <div class="news-grid" id="newsGrid"></div><!-- end news-grid -->

    <div class="news-pagination" id="news-pagination"></div>

  </div><!-- end container -->

</main>

<!-- ‚îÄ‚îÄ‚îÄ Footer ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<footer class="site-footer">
  <div class="container">
    <ul class="footer-links">
      <li><a href="index.html">Inicio</a></li>
      <li><a href="gamedev.html">GameDev</a></li>
      <li><a href="gaming.html">Gaming</a></li>
      <li><a href="esports.html">Esports</a></li>
      <li><a href="got.html">GoT</a></li>
      <li><a href="warhammer.html">Warhammer</a></li>
      <li><a href="magic.html">MtG</a></li>
      <li><a href="rol.html">Rol</a></li>
      <li><a href="nba.html">NBA</a></li>
      <li><a href="java.html">Java</a></li>
      <li><a href="social.html">Social</a></li>
      <li><a href="news.html">News</a></li>
    </ul>
    <p>‚öî FREAKONIA ‚Äî KARLETE</p>
    <p style="color:#444;">HECHO CON AMOR PIXELADO Y DEMASIADAS BEBIDAS ENERG√âTICAS</p>
    <p style="color:#333;">‚óÑ INSERT COIN ‚ñ∫</p>

    <div class="footer-legal">
      <div class="pixel-divider"></div>
      <p class="footer-copyright">
        ¬© 2025 FREAKONIA ‚Äî KARLETE. ALL RIGHTS RESERVED.
      </p>
      <p class="footer-trademark">
        FREAKONIA‚Ñ¢ IS A REGISTERED PERSONAL BRAND.
        ALL CONTENT, DESIGNS, GAME CONCEPTS AND ORIGINAL TEXTS
        ON THIS SITE ARE THE EXCLUSIVE PROPERTY OF THEIR AUTHOR.
        UNAUTHORIZED REPRODUCTION, DISTRIBUTION OR USE OF ANY
        CONTENT IS STRICTLY PROHIBITED WITHOUT PRIOR WRITTEN PERMISSION.
      </p>
      <p class="footer-notice">
        ‚ö† THIS SITE CONTAINS STRONG OPINIONS ABOUT VIDEO GAMES,
        FANTASY LORE AND BASKETBALL. READER DISCRETION IS ADVISED.
        NO GOBLINS WERE HARMED IN THE MAKING OF THIS WEBSITE.
      </p>
    </div>
  </div>
</footer>

<script src="js/main.js"></script>
<script>
/* ‚îÄ‚îÄ RENDER NEWS FROM NEWS_DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function renderNews() {
  var grid = document.getElementById('newsGrid');
  if (!grid) return;

  /* double-render guard */
  if (grid.children.length > 0) return;

  if (typeof NEWS_DATA === 'undefined' || NEWS_DATA.length === 0) {
    grid.innerHTML = '<p class="no-news">// Sin noticias todav\u00eda. Vuelve pronto. //</p>';
    document.getElementById('newsCount').textContent = '0';
    return;
  }

  /* sort newest first (DD/MM/YYYY) */
  var sorted = NEWS_DATA.slice().sort(function (a, b) {
    var pa = a.date.split('/'), pb = b.date.split('/');
    return new Date(+pb[2], +pb[1]-1, +pb[0]) - new Date(+pa[2], +pa[1]-1, +pa[0]);
  });

  var MONTHS = ['ENE','FEB','MAR','ABR','MAY','JUN','JUL','AGO','SEP','OCT','NOV','DIC'];

  function fmtDate(d) {
    var p = d.split('/');
    return p[0] + ' \u00b7 ' + MONTHS[+p[1] - 1] + ' \u00b7 ' + p[2];
  }

  function renderCard(n) {
    var cat   = n.category || n.topic;
    var badge = n.badgeLabel || n.topic.toUpperCase();
    var searchText = (n.title + ' ' + (n.tags || []).join(' ') + ' ' + n.topic).toLowerCase();

    var imgHtml = n.img
      ? '<div class="news-card-img-wrap"><img src="' + n.img + '" alt="' + n.title + '" class="news-card-img" onerror="this.parentElement.style.display=\'none\'"></div>'
      : '';

    var fullHtml = (n.full && n.full.length)
      ? '<div class="news-card-full" style="display:none">' +
          n.full.map(function (p) { return '<p>' + p + '</p>'; }).join('') +
        '</div><button class="news-read-more" data-expanded="false">\u25b6 LEER M\u00c1S</button>'
      : '';

    var tagsHtml = (n.tags || []).map(function (t) {
      return '<span class="tag">' + t + '</span>';
    }).join('');

    var linksHtml = '';
    if (n.url || n.page) {
      linksHtml = '<div style="display:flex;gap:0.5rem;margin-top:0.75rem;flex-wrap:wrap;">';
      if (n.url)  linksHtml += '<a href="' + n.url + '" target="_blank" rel="noopener" class="btn btn-small">&gt;&gt; FUENTE</a>';
      if (n.page) linksHtml += '<a href="' + n.page + '" class="btn btn-small btn-pink">&gt;&gt; IR A ' + (n.pageLabel || badge) + '</a>';
      linksHtml += '</div>';
    }

    var sourceHtml = n.source
      ? '<p class="news-source">fuente: <a href="' + n.url + '" target="_blank" rel="noopener">' + n.source + '</a></p>'
      : '';

    return '<article class="news-card" data-category="' + cat + '" data-title="' + searchText + '">'
      + '<div class="news-card-header">'
      +   '<span class="news-card-cat news-cat--' + cat + '">' + n.emoji + ' ' + badge + '</span>'
      +   '<span class="news-card-date">' + fmtDate(n.date) + '</span>'
      + '</div>'
      + imgHtml
      + '<div class="news-card-body">'
      +   '<h2 class="news-card-title">' + n.title + '</h2>'
      +   '<p class="news-card-excerpt">' + n.summary + '</p>'
      +   fullHtml
      + '</div>'
      + '<div class="news-card-footer">'
      +   '<div class="news-card-tags">' + tagsHtml + '</div>'
      +   linksHtml
      + '</div>'
      + sourceHtml
      + '</article>';
  }

  sorted.forEach(function (n) {
    grid.insertAdjacentHTML('beforeend', renderCard(n));
  });

  var countEl = document.getElementById('newsCount');
  if (countEl) countEl.textContent = sorted.length;
}

/* run synchronously so news.js finds .news-card elements */
renderNews();

/* safety net if DOM wasn't ready (edge case) */
document.addEventListener('DOMContentLoaded', renderNews);
</script>
<script src="js/news.js"></script>
<script>
/* ‚îÄ‚îÄ PAGINATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
(function () {
  var ITEMS_PER_PAGE = 9;
  var grid    = document.getElementById('newsGrid');
  var pagWrap = document.getElementById('news-pagination');
  var section = document.querySelector('main') || document.body;
  var currentPage = 1;
  var rafId;

  function getFilteredCards() {
    if (!grid) return [];
    return Array.from(grid.querySelectorAll('.news-card:not(.news-hidden)'));
  }

  function renderButtons(total, cur) {
    if (!pagWrap) return;
    var pages = Math.ceil(total / ITEMS_PER_PAGE);
    pagWrap.innerHTML = '';
    if (pages <= 1) return;
    for (var i = 1; i <= pages; i++) {
      var btn = document.createElement('button');
      btn.className = 'page-btn' + (i === cur ? ' active' : '');
      btn.dataset.page = i;
      btn.textContent = i;
      btn.addEventListener('click', (function (p) {
        return function () { goToPage(p); };
      })(i));
      pagWrap.appendChild(btn);
    }
  }

  function applyPagination() {
    var cards = getFilteredCards();
    var start = (currentPage - 1) * ITEMS_PER_PAGE;
    var end   = start + ITEMS_PER_PAGE;
    /* reset inline display for all filtered cards */
    cards.forEach(function (c) { c.style.display = ''; });
    /* hide cards outside current page window */
    cards.forEach(function (c, i) {
      if (i < start || i >= end) c.style.display = 'none';
    });
    renderButtons(cards.length, currentPage);
  }

  function goToPage(p) {
    currentPage = p;
    applyPagination();
    section.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  /* Watch news.js filter changes via class mutations */
  if (grid && window.MutationObserver) {
    var observer = new MutationObserver(function () {
      cancelAnimationFrame(rafId);
      rafId = requestAnimationFrame(function () {
        currentPage = 1;
        applyPagination();
      });
    });
    grid.querySelectorAll('.news-card').forEach(function (card) {
      observer.observe(card, { attributes: true, attributeFilter: ['class'] });
    });
  }

  applyPagination();
})();
</script>
</body>
</html>

<!-- NEWS_TRACKER moved to js/news-data.js -->
